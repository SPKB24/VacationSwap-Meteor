<template name="userprofile">

  {{> header}}
  <main style="z-index:auto">
    <div class="container">

      {{#if currentUser}}
        <!-- Profile pic and information -->
        <div class="row">
          <div class="imgContainer col s12 m2 l2">
            <div id="profile_pic" class="z-depth-2" style="{{ picture }}"></div>
          </div>
          <div class="col s12 m10 l10">
            <p id="profile_username">{{ username }}</p>
            <p id="profile_description">Some other information</p>
            <div class="chip">adventurous</div>
            <div class="chip">daredevil</div>
            <div class="chip">outgoing</div>
          </div>
        </div>

        <!-- Profile trips -->
        <div class="row">
          <p class="sectionHeader">
            My Trips
          </p>
          <div class="row">
              <a class="waves-effect waves-light btn new-trip"><i class="material-icons left">add</i>Create a New Trip</a>
          </div>
          <div class="profile_trips">
            {{#if hasTrips}}
              {{#each trips}}
                {{> userTrips}}
              {{/each}}
            {{else}}
              {{> noTrips}}
            {{/if}}
          </div>
        </div>
      {{else}}
        {{> signInError}}
      {{/if}}

    </div>
  </main>
  {{> footer}}

</template>

<template name="userTrips">
  <div class="col s12 m6 l4">
    <div class="card">
      <div class="card-image waves-effect waves-block waves-light">
        <img class="responsive-img" src="https://media-cdn.tripadvisor.com/media/photo-s/09/8d/77/5e/carillon-miami-beach.jpg">
      </div>
      <div class="card-content">
        <span class="card-title activator grey-text text-darken-4">{{title}}<i class="material-icons right">more_vert</i></span>
        <p><a class="myDetails" href="#">View</a></p>
      </div>
      <div class="card-reveal">
        <span class="card-title grey-text text-darken-4">{{title}}<i class="material-icons right">close</i></span>
        <p>Here is some more information about this trip that is only revealed once clicked on.</p>
      </div>
    </div>
  </div>
</template>

<template name="noTrips">
  <div class="noTripErrorDiv center">
    <p class="noTripError">Looks like you haven't created a trip yet.</p>
    <p class="noTripError">Click the button above to make your first trip!</p>
  </div>
</template>
